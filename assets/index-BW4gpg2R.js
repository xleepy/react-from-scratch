(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(l){if(l.ep)return;l.ep=!0;const r=n(l);fetch(l.href,r)}})();function L(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t,children:[]}}}const N=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function y(t,e,n){const i=o=>o.startsWith("on"),l=o=>o!=="children"&&!i(o),r=(o,s)=>u=>!(u in s),c=(o,s)=>u=>o[u]!==s[u],a=o=>o instanceof HTMLElement;Object.keys(e).filter(l).filter(r(e,n)).forEach(o=>{a(t)?t.removeAttribute(o):t[o]=""}),Object.keys(n).filter(l).filter(c(e,n)).forEach(o=>{const s=n[o];if(!a(t)){t[o]=s;return}if(o==="style"&&typeof s=="object"){const u=Object.entries(s).map(([T,m])=>`${N(T)}: ${m}`).join("; ");t.setAttribute("style",u);return}if(o==="className"){t.setAttribute("class",s);return}t.setAttribute(o,s)}),Object.keys(e).filter(i).filter(o=>!(o in n)||c(e,n)(o)).forEach(o=>{const s=o.toLowerCase().substring(2);t.removeEventListener(s,e[o])}),Object.keys(n).filter(i).filter(o=>!(o in e)||c(e,n)(o)).forEach(o=>{const s=o.toLowerCase().substring(2);t.addEventListener(s,n[o])})}function g(t,e,...n){return{type:t,props:{...e,children:n.map(i=>typeof i=="object"?i:L(i))}}}function O(t){const e=t.type=="TEXT_ELEMENT"?document.createTextNode(""):document.createElement(t.type);return y(e,{},t.props),e}let d=null,f=null,E=null,h=[];function C(t,e){f={dom:e,props:{children:[t]},alternate:E},h=[],d=f}function p(t){var n;if(console.log("commit work",t),!t)return;const e=((n=t.parent)==null?void 0:n.dom)??null;t.effectTag==="PLACEMENT"&&t.dom?e==null||e.appendChild(t.dom):t.effectTag==="UPDATE"&&t.dom?y(t.dom,t.alternate.props,t.props):t.effectTag==="DELETION"&&t.dom&&(e==null||e.removeChild(t.dom)),p(t.child),p(t.sibling)}function w(){console.log("commit root",f),h.forEach(p),p(f.child),E=f,f=null}function b(t){let e=!1;for(;d&&!e;)d=j(d)??null,d&&(e=t.timeRemaining()<1);!d&&f&&(console.log("commit root"),w()),requestIdleCallback(b)}requestIdleCallback(b);function A(t,e){let n=0,i=t.alternate&&t.alternate.child,l=null;for(;n<e.length||i!=null;){const r=e[n];let c=null;const a=i&&r&&r.type==i.type;a&&(c={alternate:(i==null?void 0:i.alternate)??null,sibling:(i==null?void 0:i.sibling)??null,child:(i==null?void 0:i.child)??null,dom:(i==null?void 0:i.dom)??null,type:r.type,props:r.props,parent:t,effectTag:"UPDATE"}),r&&!a&&(c={dom:null,child:null,sibling:null,type:r.type,props:r.props,parent:t,alternate:null,effectTag:"PLACEMENT"}),i&&!a&&(i.effectTag="DELETION",h.push(i)),i!=null&&i.sibling&&(i=i.sibling),n===0?t.child=c:r&&(l.sibling=c),l=c,n++}}function j(t){t.dom||(t.dom=O(t));const e=t.props.children;if(A(t,e),t.child)return t.child;let n=t;for(;n;){if(n.sibling)return n.sibling;n=n.parent}}const v=document.getElementById("app"),M=g("div",{id:"foo"},g("a",{href:"https://example.com",className:"logo",style:{marginRight:"1rem",color:"red"},"data-testid":"1"},"bar"),g("input",{value:"test",onChange:t=>{console.log("changed",t)}}));C(M,v);
